<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="<%= escort.areaLabel %> Escorts and Discreet Hot companions near you | Streak-1.onrender.com">
    <meta name="description" content="Discover <%= escort.name %>, a verified elite escort in <%= escort.areaLabel %>, <%= escort.city %>. Offering luxury companionship and discreet adult services tailored to your desires.">
    <meta name="keywords" content="Nairobi escorts, companions in <%= escort.areaLabel %>, female escorts <%= escort.areaLabel %>, private meetups near me, discreet companionship Nairobi">
    <title>Meet <%= escort.name %> â€“ Verified Escort in <%= escort.areaLabel %> | Discreet Companions Near You</title>
    <link rel="icon" href="/public/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/satoshi?display=swap">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></noscript>
     <link rel="stylesheet" href="/css/header.css">
    <noscript><link rel="stylesheet" href="/css/header.css"></noscript>
    <link rel="preload" href="/css/footer.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/css/footer.css"></noscript>
    <style>
        #hero-section2{
            width: 100%;
            padding-top: 70px;
        }
        .profile-preview{
            /* url('https://ei.phncdn.com/pics/users/0008/0467/3202/cover30226095/(m=eRSa4qFxcWaAb)(mh=qnb0ZXLa-OAQh0E9)1323x270.jpg') */
            background:  no-repeat;
            height: 300px;                
            background-repeat: no-repeat;
            position: relative;           
            background-size: cover;
            background-position: center;
            width: 100%;
            aspect-ratio: 5/4;
        }.social-links-nav {
            display: flex;
            align-items: center;
            gap: 8px
        }
            .social-links .button{
                padding: 8px 16px;
                display: block;
                display: flex;
                align-items: center;
                background: transparent;
                color: black;
                gap: 10px;
                transition: .5s;
                outline: none;
                cursor: pointer;
                border: 1px solid black
            }.social-links .button:hover{
                background-color: #128C7E;
                color: #f8f8f8f8
            }@media(max-width: 400px){
                .social-links .button{
                    padding: 8px;
                    gap: 2px;
                    text-align: center
                }
                .social-links-nav a {
                    width: 20px;
                    font-size: .8rem
                }
            }
            .social-links-nav a {
                color: white;
                font-size: 1.2rem;
                transition: color .3s ease;
            }.social-links-nav a:hover {
                color: #f8f8f8
            }.profile-preview img {
                width: 100%;
                height: 100%;
                object-fit: cover
            }.container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px
            }
            .box{
                margin: 20px 0;
                gap: 12px;
                display: flex;
                flex-direction: column
            }.left {
                flex: 1 1 45%
            }.right {
                flex:1 1 55%}
            @media (min-width: 768px) {
                .box{
                    flex-direction: row
                }.left{
                    flex: 40%
                }.right{
                    flex: 60%
                }
            } 
            .left h3{ 
                padding: 10px 0;
            }.left p {
                font-size: .9rem;
            }.right p{
                font-size: .9rem;
                padding: 6px 0
            }.preview-img{
                

                width: 130px;
                max-height: 130px;
                overflow: hidden
            }.preview-img img{
                width: 100%;
                height: 100%;
                object-fit: cover;
            }.left p{
                font-size: .9rem;
                padding: 6px 0}
            .info { 
                padding: 10px;
            }.info p {
                margin-bottom: 4px;
            }.call a{
                background-color: transparent;
                color: "#25D366";
                padding: 10px;
                color: #333;
                text-align: center
            }.call a:hover{
                color: #f8f8f8
            }
            .escort-name,
            .escort-phone {
            margin: 0;
            padding: 4px 0;
            font-size: 1rem
            }#about-display, #main .right {
            font-size: 1rem;         
            line-height: 1.6;        
            margin-bottom: 1.5em;    
            color: #333;            
            padding: 0.5em 1em;      
            background-color: #f0f0f0 ;
            border-radius: 8px ;        
            box-shadow: 0 1px 4px rgba(0,0,0,0.05)
            }
            #about-display{
                max-width: 680px;               
                margin-bottom: 10px;
            }.fa-bookmark.active {
    color: #25D366;
  }.bookmark-btn {
  transition: color 0.3s ease;
}
            .modal {
  display: none;
  align-items: center;
  justify-content: center;
  position: fixed;
  z-index: 9999999999;
  inset: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.5);
}

.modal-content {
  background-color: #fff;
  margin: 10% auto;
  padding: 20px;
  border-radius: 8px;
  width: 90%;
  max-width: 600px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.close-btn {
  float: right;
  font-size: 1.5rem;
  cursor: pointer;
  color: #333;
}
#openBookmarkModal {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 56px;
  height: 56px;
  background-color: #25D366; 
  color: #fff;
  border-radius: 50%;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 22px;
  cursor: pointer;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

#openBookmarkModal:hover {
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.35);
  transform: scale(1.05);
}
@keyframes floatUp {
  0% { transform: translateY(40px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

#openBookmarkModal {
  animation: floatUp 0.4s ease-out;
 }
  @media (max-width: 480px) {
  .modal-content {
    width: 95%;
    padding: 16px;
  }
}

    </style>
<link rel="preload" href="/css/carousel.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/css/carousel.css"></noscript>
</head>
<body>
    <div class="container">
       <%- include('partials/header') %>
       <div id="galleryOpacity">
        <span style="cursor: pointer; position: absolute; top: 20px; right: 25px; color: white; font-size: 2.1rem" id="closeImgOpacity">&times;</span>
        <div class="carousel" style="position: relative;" role="region" aria-label="Image carousel">
        <button class="slide-arrow" id="slide-arrow-prev">
        &#8249;
        </button>
            <img id="carousel-image" src="" alt="Carousel Image" alt="Profile image of <%= escort.name %>" style="width: 100%; max-height: 80vh; object-fit: contain;">         
        <button class="slide-arrow" id="slide-arrow-next">
         &#8250;</button>
        </div>
        </div>

        <section id="hero-section2">
            <div class="profile-preview" style="background-image: url('<%= escort.backgroundImg %>');">
                <div class="preview-img">
                    <img loading="lazy" fetchpriority="low" src="<%= escort.userImg %>" alt="background profile image of <%= escort.name %>, elite escort, companion in <%= escort.areaLabel %> offering massages, Dinner date & Adult Companionship">
                </div>
            </div>
            <div class="social-links" style="display: flex; justify-content: space-between; padding: 10px 0; background-color: #25D366; padding: 8px">
                <ul class="social-links-nav">
                    <% if(escort.facebook){%>
                        <a href='<%= escort.facebook%>' target="_blank" title="Follow <%= escort.name %> on facebook">
                        <i class="fab fa-facebook-f"></i>
                        </a>

                   <% } %>
                    <% if(escort.twitter){%>
                        <a href='<%= escort.twitter%>' target="_blank" title="Follow <%= escort.name %> on twitter">
                        <i class="fab fa-twitter"></i>
                        </a>

                   <% } %>
                   
                    <% if(escort.instagram){%>
                        <a href='<%= escort.instagram%>' target="_blank" title="Follow <%= escort.name %> on instagram">
                        <i class="fab fa-instagram"></i>
                        </a>

                   <% } %>
                    <% if(escort.tiktok){%>
                        <a href='<%= escort.tiktok%>' target="_blank" title="Follow <%= escort.name %> on tiktok">
                        <i class="fab fa-tiktok"></i>
                        </a>

                   <% } %>
    
                </ul>
                <a style="display: flex; align-items: center; color: white; background-color: #128C7E; border: none; border-radius: 4px" href="https://wa.me/254751142915" title="Send a Message" class="button">
                    <i class="fab fa-whatsapp"></i>Message
                </a>
            </div>
        </section>

        <section id="main" style="padding: 32px 0">
            <div class="box">
                <div class="left">
                    <h3 style="padding: 10px 0">About <%= escort.name %></h3>
                    <p id="about-display" style='background: #f0f0f0; border-radius: 5px'>This is <%= escort.name %>., She is a hot <%= escort.age %> years old escort in <%= escort.areaLabel %>. She offers the best <%= escort.services.join(', ') %> in <%= escort.areaLabel %> . To communicate with <%= escort.name %>. you can Contact her through her Number <%= escort.phone %> to arrange a meetup with <%= escort.name %>.</p>
                    <h3>Gallery</h3>
                <% if (escort.gallery && escort.gallery.length > 0) { %>
                    <div class="gallery">
                        <% escort.gallery.forEach(image => { %>
                            <img loading="lazy" src="<%= image %>" alt="Gallery Image" class='galleryImg' width="150">
                        <% }) %>
                    </div>
                <% } else { %>
                    <p>No gallery images available.</p>
                <% } %>
                </div>

                <div class="right">
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Phone :</span> <%= escort.phone %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Age:</span> <%= escort.age %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Orientaiton:</span> <%= escort.orientation %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Gender:</span><%= escort.gender %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">weight:</span> <%= escort.weight %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Tattoos:</span> <%= escort.tattoos || 'none'%></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Services:</span><%= escort.services.join(', ') %></p><hr>
                    <p style="display: flex; justify-content: space-between"><span style="color: #128C7E">Profile views:</span><%= escort.totalViews.toLocaleString() || 0 %></p>
                </div>
            </div>
        </section>
        <br>
         <section id="main" class="main">
            <h3>Escorts nearby.</h3><br>
            <div class="listings" style="justify-content: flex-start">
               <% similarEscorts.forEach(escort => { %>
                <div class="card" style="display: flex">
                    <a href='/author/<%= escort.name%>' title="Meet <%= escort.name %>, <%= escort.city %> hot and verified companion in <%= escort.areaLabel %>">
                    <% if (escort.isBoosted) { %>
                    <div class="badge <%= escort.boostType %>">
                        <%= escort.boostType %>
                    </div>
                    <% } %>
                <div class="image-wrapper">
                    <img data-src="<%= escort.userImg%>" src="<%= escort.userImg %>" alt="Meet <%= escort.name %>, <%= escort.city %> hot and verified companion in <%= escort.areaLabel %> offering massages, Dinner date & Adult Companionship" title="Meet <%= escort.name %>, <%= escort.city %> hot and verified escort in <%= escort.areaLabel %>, offering massages, Dinner date & Adult Companionship">
                </div></a>
                <div class="info">
                    <p class="escort-name"><%= escort.name.split(' ')[0]%></p>
                    <button 
                      class="bookmark-btn" 
                      aria-label="Bookmark profile" 
                      title="Bookmark this profile" 
                      data-id="<%= escort._id %>" 
                      data-name="<%= escort.name.split(' ')[0] %>" 
                      data-img="<%= escort.userImg %>" 
                      data-phone="<%= escort.phone %>" 
                      style="background: none; border: none; color: #444">
                      <i class="fa-solid fa-bookmark" aria-hidden="true"></i>
                    </button>
                </div><hr>
                    <p style="padding: 4px;color: #6c757d;">Meet <%= escort.name.split(' ')[0]%> a <%= escort.age %> years old <%= escort.gender%> Escort from <%= escort.city%>, <%= escort.areaLabel %> area.</p>
                <div class="call">
                    <a href="tel: 0713452235" title="live call <%= escort.name.split(' ')[0].toUpperCase() %>">
                CALL <%= escort.name.split(' ')[0].toUpperCase() %>
                &nbsp;<i class="fa fa-phone"></i></a>
                </div>
            </div>
                <%})%>

            </div>
    </section>
    </div>

   <div id="bookmarkModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="bookmarkModalTitle">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h3 id="bookmarkModalTitle">Your Bookmarked Escorts</h3>
    <div id="bookmarkedList"></div>
  </div>
</div>
<i class="fa-solid fa-bookmark" id="openBookmarkModal" title="Saved Profiles"></span></i>

<%- include('partials/footer') %>
<script defer>
document.addEventListener('DOMContentLoaded', () => {

  // ðŸ”§ Render escort cards
  function renderEscortCards(escorts) {
    const listings = document.getElementById("listings");
    listings.innerHTML = "";

    if (escorts.length === 0) {
      listings.innerHTML = `<p style="position: absolute; top:50%; left: 50%; transform: translateX(-50%)">No nearby escorts found. Try again later</p>`;
      return;
    }

    let html = "";
    escorts.forEach((escort, i) => {
      const name = escort.name.split(' ')[0];
      const imgTag = i === 0
        ? `<img width="200" height="200" src="${escort.userImg}" fetchpriority="high" alt="${name}, a ${escort.age}-year-old ${escort.gender} escort in ${escort.areaLabel}, ${escort.city}">`
        : `<img width="200" height="200" data-src="${escort.userImg}" alt="${name}, a ${escort.age}-year-old ${escort.gender} escort in ${escort.areaLabel}, ${escort.city}">`;

      html += `
        <div class="card" style="display: flex;">
          <a href="/author/${escort.name}" data-id="${escort._id}">
            ${escort.isBoosted ? `<div class="badge ${escort.boostType}">${escort.boostType}</div>` : ''}
            <div class="image-wrapper">${imgTag}</div>
          </a>
          <div class="info">
            <p class="escort-name">${name}</p>
            <span aria-label="Bookmark profile">
              <i title="Bookmark this profile" class="fa-solid fa-bookmark bookmark-btn"
                role="button"
                tabindex="0"
                aria-label="Bookmark profile of ${name}"
                data-id="${escort._id}"
                data-name="${name}"
                data-img="${escort.userImg}"
                data-phone="${escort.phone}"
                style="color: #444"></i>
            </span>
          </div>
          <hr>
          <p style="padding: 4px;color: #6c757d;">
            Meet ${name}, a ${escort.age} years old ${escort.gender} Escort from ${escort.city}, ${escort.areaLabel} area.
          </p>
          <div class="call">
            <a href="tel:${escort.phone}" style="color: #25D366">
              CALL ${name.toUpperCase()} &nbsp;<i class="fa fa-phone"></i>
            </a>
          </div>
        </div>
      `;
    });

    listings.innerHTML = html;
    updateBookmarkIcons();
    observeCards();
  }

  // âœ… Bookmark icon updater
  function updateBookmarkIcons() {
    const bookmarks = JSON.parse(localStorage.getItem('bookmarkedEscorts')) || [];
    document.querySelectorAll('.bookmark-btn').forEach(icon => {
      const iconId = icon.dataset.id;
      const isBookmarked = bookmarks.some(item => item.id === iconId);
      icon.style.color = isBookmarked ? '#25D366' : '#444';
    });
  }

  // âœ… Bookmark toggler
  document.addEventListener('click', (e) => {
    if (!e.target.classList.contains('bookmark-btn')) return;

    const icon = e.target;
    const { id, name, img, phone } = icon.dataset;
    let bookmarks = JSON.parse(localStorage.getItem('bookmarkedEscorts')) || [];
    const isBookmarked = bookmarks.some(item => item.id === id);

    if (!isBookmarked) {
      bookmarks.push({ id, name, img, phone });
      icon.style.color = '#25D366';
    } else {
      bookmarks = bookmarks.filter(item => item.id !== id);
      icon.style.color = '#444';
    }

    localStorage.setItem('bookmarkedEscorts', JSON.stringify(bookmarks));
  });

  // âœ… Bookmark modal
  const bookmarkTrigger = document.getElementById('openBookmarkModal');
  if (bookmarkTrigger) {
    bookmarkTrigger.addEventListener('click', () => {
      const modal = document.getElementById('bookmarkModal');
      const list = document.getElementById('bookmarkedList');
      const bookmarks = JSON.parse(localStorage.getItem('bookmarkedEscorts')) || [];

      list.innerHTML = bookmarks.length === 0
        ? "<p>No bookmarks yet.</p>"
        : bookmarks.map(item => `
          <div style="margin-bottom: 12px; display: flex; align-items: center">
            <img src="${item.img}" alt="${item.name}" width="60" style="border-radius:5px;">
            <a href="/author/${item.name}" class="copy-number-btn" data-name="${item.name.split(' ')[0]}" data-phone="${item.phone}" style="margin-left:8px; flex: 1; text-decoration: underline; cursor: pointer;">
              View ${item.name}'s profile.
            </a>
            <button class="remove-bookmark" data-id="${item.id}" style="background: none; border: none; color: #c0392b; cursor: pointer;">âœ•</button>
          </div>
        `).join('');

      list.querySelectorAll('.remove-bookmark').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.dataset.id;
          const updated = bookmarks.filter(item => item.id !== id);
          localStorage.setItem('bookmarkedEscorts', JSON.stringify(updated));
          btn.parentElement.remove();
          if (updated.length === 0) modal.style.display = 'none';
        });
      });

      modal.style.display = "flex";
    });
  }

  document.querySelector('.close-btn').onclick = () => {
    document.getElementById('bookmarkModal').style.display = "none";
  };

  window.onclick = (event) => {
    const modal = document.getElementById('bookmarkModal');
    if (event.target === modal) modal.style.display = "none";
  };

  // âœ… Lazy-load observer
  function observeCards() {
    const cards = document.querySelectorAll('.card:not(.visible)');
    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          const img = entry.target.querySelector('img[data-src]');
          if (img && !img.src) img.src = img.dataset.src;
          obs.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });

    cards.forEach(card => observer.observe(card));
  }

  observeCards(); // Initial run for static cards

});
</script>
<script defer src="https://cdn.jsdelivr.net/npm/slugify@1.6.6/slugify.min.js"></script>
    <script defer src="/js/script.js"></script>
    <script defer src="/js/gallery.js"></script>
    <script defer type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "<%= escort.name %>",
        "image": "<%= escort.image_url %>",
        "description": "Elite companion from <%= escort.areaLabel %>. Discreet meetups and private experiences.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "<%= escort.city %>",
            "addressCountry": "KE"
        },
        "areaServed": {
            "@type": "Place",
            "name": "<%= escort.areaLabel%>"
        },
        "telephone": "<%= escort.phone %>",
            "url": "<%= escort.profile_url || '' %>",
        "priceRange": "$$$",
        "openingHours": "Mo-Su 24:00",
        "keywords": [
            "escorts in <%= escort.areaLabel %>",
            "companions near <%= escort.areaLabel %>",
            "private meetups Nairobi"
        ]
        }
</script>
</body>
</html>
